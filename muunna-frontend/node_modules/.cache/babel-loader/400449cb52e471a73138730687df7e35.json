{"ast":null,"code":"import _objectSpread from\"/Users/joonaskinnunen/Koodit/Lukumuuntimet/muunna-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/Users/joonaskinnunen/Koodit/Lukumuuntimet/muunna-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useRef}from'react';import{Breadcrumb,Form,Button}from'react-bootstrap';import{LinkContainer}from\"react-router-bootstrap\";import axios from'axios';import Notification from'./Notification';var ContactForm=function ContactForm(){var _useState=useState({name:'',email:'',message:''}),_useState2=_slicedToArray(_useState,2),values=_useState2[0],setValues=_useState2[1];var _useState3=useState({notificationMessage:'',notificationErrorMessage:''}),_useState4=_slicedToArray(_useState3,2),notificationMessages=_useState4[0],setNotificationMessages=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),validated=_useState6[0],setValidated=_useState6[1];var formRef=useRef(null);useEffect(function(){document.title='Ota yhteyttä - Laske & Muunna';});var formDivStyle={margin:'20px'};var handleReset=function handleReset(){formRef.current.reset();setValidated(false);};var handleEmailChange=function handleEmailChange(value){setValues(_objectSpread({},values,{email:value}));};var handleMessageChange=function handleMessageChange(value){setValues(_objectSpread({},values,{message:value}));};var handleNameChange=function handleNameChange(value){setValues(_objectSpread({},values,{name:value}));};var handleSubmit=function handleSubmit(event){var form=event.currentTarget;event.preventDefault();if(form.checkValidity()===false){event.stopPropagation();}else{setNotificationMessages({notificationErrorMessage:'',notificationMessage:'Viestiä lähetetään...'});axios({method:\"POST\",url:\"https://www.laskejamuunna.fi/send\",data:values}).then(function(response){if(response.data.status==='success'){console.log(\"Viesti lähetetty.\");setNotificationMessages({notificationErrorMessage:'',notificationMessage:'Viestin lähetys onnistui. Kiitos viestistäsi!'});setValues({name:'',email:'',message:''});setTimeout(function(){return setNotificationMessages({notificationErrorMessage:'',notificationMessage:''});},10000);console.log(notificationMessages);}else if(response.data.status==='fail'){console.log(response.data);console.log(\"Viestin lähettäminen epäonnistui.\");setNotificationMessages({notificationErrorMessage:'Viestin lähettäminen epäonnistui.',notificationMessage:''});setTimeout(function(){return setNotificationMessages({notificationErrorMessage:'',notificationMessage:''});},10000);}});}setValidated(true);handleReset();};return React.createElement(\"div\",null,React.createElement(Breadcrumb,null,React.createElement(LinkContainer,{to:\"../\"},React.createElement(Breadcrumb.Item,null,\"Alkuun\")),React.createElement(Breadcrumb.Item,{active:true},\"Ota yhteytt\\xE4\")),React.createElement(\"div\",{className:\"calculator\"},React.createElement(\"h2\",null,\"Ota yhteytt\\xE4\"),React.createElement(\"p\",null,\"Kehitysehdotuksia? Huomasitko virheen sivustolla? Voit ottaa yhteytt\\xE4 sivuston yll\\xE4pitoon alla olevalla lomakkeella.\"),React.createElement(\"div\",{style:formDivStyle},React.createElement(Form,{noValidate:true,validated:validated,onSubmit:handleSubmit,ref:formRef},React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Nimi\"),React.createElement(Form.Control,{placeholder:\"Sy\\xF6t\\xE4 nimesi\",required:true,value:values.name,onChange:function onChange(_ref){var target=_ref.target;return handleNameChange(target.value);}}),React.createElement(Form.Control.Feedback,null,\"Hyv\\xE4lt\\xE4 n\\xE4ytt\\xE4\\xE4!\"),React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Sy\\xF6t\\xE4 nimesi\")),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"S\\xE4hk\\xF6postiosoite\"),React.createElement(Form.Control,{required:true,type:\"email\",placeholder:\"Sy\\xF6t\\xE4 s\\xE4hk\\xF6postiosoite\",value:values.email,onChange:function onChange(_ref2){var target=_ref2.target;return handleEmailChange(target.value);}}),React.createElement(Form.Text,{className:\"text-muted\"},\"Emme koskaan jaa s\\xE4hk\\xF6postiosoitettasi ulkopuolisille.\"),React.createElement(Form.Control.Feedback,null,\"Hyv\\xE4lt\\xE4 n\\xE4ytt\\xE4\\xE4!\"),React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Sy\\xF6t\\xE4 s\\xE4hk\\xF6postiosoite\")),React.createElement(Form.Group,null,React.createElement(Form.Label,null,\"Viesti\"),React.createElement(Form.Control,{required:true,as:\"textarea\",rows:\"3\",placeholder:\"Kirjoita viestisi t\\xE4h\\xE4n\",value:values.message,onChange:function onChange(_ref3){var target=_ref3.target;return handleMessageChange(target.value);}}),React.createElement(Form.Control.Feedback,null,\"Hyv\\xE4lt\\xE4 n\\xE4ytt\\xE4\\xE4!\"),React.createElement(Form.Control.Feedback,{type:\"invalid\"},\"Sy\\xF6t\\xE4 viesti\")),React.createElement(Button,{variant:\"primary\",type:\"submit\"},\"L\\xE4het\\xE4\"))),React.createElement(Notification,{message:notificationMessages.notificationMessage,errorMessage:notificationMessages.notificationErrorMessage})));};export default ContactForm;","map":{"version":3,"sources":["/Users/joonaskinnunen/Koodit/Lukumuuntimet/muunna-frontend/src/components/ContactForm.js"],"names":["React","useState","useEffect","useRef","Breadcrumb","Form","Button","LinkContainer","axios","Notification","ContactForm","name","email","message","values","setValues","notificationMessage","notificationErrorMessage","notificationMessages","setNotificationMessages","validated","setValidated","formRef","document","title","formDivStyle","margin","handleReset","current","reset","handleEmailChange","value","handleMessageChange","handleNameChange","handleSubmit","event","form","currentTarget","preventDefault","checkValidity","stopPropagation","method","url","data","then","response","status","console","log","setTimeout","target"],"mappings":"yRAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,CAAqCC,MAArC,KAAmD,OAAnD,CACA,OAASC,UAAT,CAAqBC,IAArB,CAA2BC,MAA3B,KAAyC,iBAAzC,CACA,OAASC,aAAT,KAA8B,wBAA9B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,YAAP,KAAyB,gBAAzB,CAEA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,eACMT,QAAQ,CAAC,CAAEU,IAAI,CAAE,EAAR,CAAYC,KAAK,CAAE,EAAnB,CAAuBC,OAAO,CAAE,EAAhC,CAAD,CADd,wCACfC,MADe,eACPC,SADO,8BAEkCd,QAAQ,CAAC,CAAEe,mBAAmB,CAAE,EAAvB,CAA2BC,wBAAwB,CAAE,EAArD,CAAD,CAF1C,yCAEfC,oBAFe,eAEOC,uBAFP,8BAGYlB,QAAQ,CAAC,KAAD,CAHpB,yCAGfmB,SAHe,eAGJC,YAHI,eAItB,GAAMC,CAAAA,OAAO,CAAGnB,MAAM,CAAC,IAAD,CAAtB,CAEAD,SAAS,CAAC,UAAM,CACZqB,QAAQ,CAACC,KAAT,CAAiB,+BAAjB,CACH,CAFQ,CAAT,CAIA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,MAAM,CAAE,MADS,CAArB,CAIA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACtBL,OAAO,CAACM,OAAR,CAAgBC,KAAhB,GACAR,YAAY,CAAC,KAAD,CAAZ,CACH,CAHD,CAIA,GAAMS,CAAAA,iBAAiB,CAAG,QAApBA,CAAAA,iBAAoB,CAACC,KAAD,CAAW,CACjChB,SAAS,kBAAMD,MAAN,EAAcF,KAAK,CAAEmB,KAArB,GAAT,CACH,CAFD,CAIA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACD,KAAD,CAAW,CACnChB,SAAS,kBAAMD,MAAN,EAAcD,OAAO,CAAEkB,KAAvB,GAAT,CACH,CAFD,CAIA,GAAME,CAAAA,gBAAgB,CAAG,QAAnBA,CAAAA,gBAAmB,CAACF,KAAD,CAAW,CAChChB,SAAS,kBAAMD,MAAN,EAAcH,IAAI,CAAEoB,KAApB,GAAT,CACH,CAFD,CAIA,GAAMG,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,CAC5B,GAAMC,CAAAA,IAAI,CAAGD,KAAK,CAACE,aAAnB,CACAF,KAAK,CAACG,cAAN,GACA,GAAIF,IAAI,CAACG,aAAL,KAAyB,KAA7B,CAAoC,CAChCJ,KAAK,CAACK,eAAN,GACH,CAFD,IAEO,CACHrB,uBAAuB,CAAC,CAAEF,wBAAwB,CAAE,EAA5B,CAAgCD,mBAAmB,CAAE,uBAArD,CAAD,CAAvB,CACAR,KAAK,CAAC,CACFiC,MAAM,CAAE,MADN,CAEFC,GAAG,CAAE,mCAFH,CAGFC,IAAI,CAAE7B,MAHJ,CAAD,CAAL,CAIG8B,IAJH,CAIQ,SAACC,QAAD,CAAc,CAClB,GAAIA,QAAQ,CAACF,IAAT,CAAcG,MAAd,GAAyB,SAA7B,CAAwC,CACpCC,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACA7B,uBAAuB,CAAC,CAAEF,wBAAwB,CAAE,EAA5B,CAAgCD,mBAAmB,CAAE,+CAArD,CAAD,CAAvB,CACAD,SAAS,CAAC,CAAEJ,IAAI,CAAE,EAAR,CAAYC,KAAK,CAAE,EAAnB,CAAuBC,OAAO,CAAE,EAAhC,CAAD,CAAT,CACAoC,UAAU,CAAC,iBAAM9B,CAAAA,uBAAuB,CAAC,CAAEF,wBAAwB,CAAE,EAA5B,CAAgCD,mBAAmB,CAAE,EAArD,CAAD,CAA7B,EAAD,CAA2F,KAA3F,CAAV,CACA+B,OAAO,CAACC,GAAR,CAAY9B,oBAAZ,EACH,CAND,IAMO,IAAI2B,QAAQ,CAACF,IAAT,CAAcG,MAAd,GAAyB,MAA7B,CAAqC,CACxCC,OAAO,CAACC,GAAR,CAAYH,QAAQ,CAACF,IAArB,EACAI,OAAO,CAACC,GAAR,CAAY,mCAAZ,EACA7B,uBAAuB,CAAC,CAAEF,wBAAwB,CAAE,mCAA5B,CAAiED,mBAAmB,CAAE,EAAtF,CAAD,CAAvB,CACAiC,UAAU,CAAC,iBAAM9B,CAAAA,uBAAuB,CAAC,CAAEF,wBAAwB,CAAE,EAA5B,CAAgCD,mBAAmB,CAAE,EAArD,CAAD,CAA7B,EAAD,CAA2F,KAA3F,CAAV,CACH,CACJ,CAjBD,EAkBH,CAEDK,YAAY,CAAC,IAAD,CAAZ,CACAM,WAAW,GACd,CA7BD,CA+BA,MACI,gCACI,oBAAC,UAAD,MACI,oBAAC,aAAD,EAAe,EAAE,CAAC,KAAlB,EACI,oBAAC,UAAD,CAAY,IAAZ,eADJ,CADJ,CAMI,oBAAC,UAAD,CAAY,IAAZ,EAAiB,MAAM,KAAvB,oBANJ,CADJ,CAWI,2BAAK,SAAS,CAAC,YAAf,EACI,gDADJ,CAII,0JAJJ,CAOI,2BAAK,KAAK,CAAEF,YAAZ,EACI,oBAAC,IAAD,EAAM,UAAU,KAAhB,CAAiB,SAAS,CAAEL,SAA5B,CAAuC,QAAQ,CAAEc,YAAjD,CAA+D,GAAG,CAAEZ,OAApE,EACI,oBAAC,IAAD,CAAM,KAAN,MACI,oBAAC,IAAD,CAAM,KAAN,aADJ,CAEI,oBAAC,IAAD,CAAM,OAAN,EAAc,WAAW,CAAC,oBAA1B,CAAyC,QAAQ,KAAjD,CAAkD,KAAK,CAAER,MAAM,CAACH,IAAhE,CAAsE,QAAQ,CAAE,2BAAGuC,CAAAA,MAAH,MAAGA,MAAH,OAAgBjB,CAAAA,gBAAgB,CAACiB,MAAM,CAACnB,KAAR,CAAhC,EAAhF,EAFJ,CAGI,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,wCAHJ,CAMI,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,EAAuB,IAAI,CAAC,SAA5B,uBANJ,CADJ,CAWI,oBAAC,IAAD,CAAM,KAAN,MACI,oBAAC,IAAD,CAAM,KAAN,+BADJ,CAEI,oBAAC,IAAD,CAAM,OAAN,EAAc,QAAQ,KAAtB,CAAuB,IAAI,CAAC,OAA5B,CAAoC,WAAW,CAAC,oCAAhD,CAAyE,KAAK,CAAEjB,MAAM,CAACF,KAAvF,CAA8F,QAAQ,CAAE,4BAAGsC,CAAAA,MAAH,OAAGA,MAAH,OAAgBpB,CAAAA,iBAAiB,CAACoB,MAAM,CAACnB,KAAR,CAAjC,EAAxG,EAFJ,CAGI,oBAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,YAArB,iEAHJ,CAMI,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,wCANJ,CASI,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,EAAuB,IAAI,CAAC,SAA5B,uCATJ,CAXJ,CAwBI,oBAAC,IAAD,CAAM,KAAN,MACI,oBAAC,IAAD,CAAM,KAAN,eADJ,CAEI,oBAAC,IAAD,CAAM,OAAN,EAAc,QAAQ,KAAtB,CAAuB,EAAE,CAAC,UAA1B,CAAqC,IAAI,CAAC,GAA1C,CAA8C,WAAW,CAAC,+BAA1D,CAAoF,KAAK,CAAEjB,MAAM,CAACD,OAAlG,CAA2G,QAAQ,CAAE,4BAAGqC,CAAAA,MAAH,OAAGA,MAAH,OAAgBlB,CAAAA,mBAAmB,CAACkB,MAAM,CAACnB,KAAR,CAAnC,EAArH,EAFJ,CAGI,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,wCAHJ,CAMI,oBAAC,IAAD,CAAM,OAAN,CAAc,QAAd,EAAuB,IAAI,CAAC,SAA5B,uBANJ,CAxBJ,CAkCI,oBAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,QAA/B,iBAlCJ,CADJ,CAPJ,CA+CI,oBAAC,YAAD,EAAc,OAAO,CAAEb,oBAAoB,CAACF,mBAA5C,CAAiE,YAAY,CAAEE,oBAAoB,CAACD,wBAApG,EA/CJ,CAXJ,CADJ,CA+DH,CA5HD,CA8HA,cAAeP,CAAAA,WAAf","sourcesContent":["import React, { useState, useEffect, useRef } from 'react'\nimport { Breadcrumb, Form, Button } from 'react-bootstrap'\nimport { LinkContainer } from \"react-router-bootstrap\"\nimport axios from 'axios'\nimport Notification from './Notification'\n\nconst ContactForm = () => {\n    const [values, setValues] = useState({ name: '', email: '', message: '' })\n    const [notificationMessages, setNotificationMessages] = useState({ notificationMessage: '', notificationErrorMessage: '' })\n    const [validated, setValidated] = useState(false)\n    const formRef = useRef(null)\n\n    useEffect(() => {\n        document.title = 'Ota yhteyttä - Laske & Muunna'\n    })\n\n    const formDivStyle = {\n        margin: '20px'\n    }\n\n    const handleReset = () => {\n        formRef.current.reset()\n        setValidated(false)\n    }\n    const handleEmailChange = (value) => {\n        setValues({ ...values, email: value })\n    }\n\n    const handleMessageChange = (value) => {\n        setValues({ ...values, message: value })\n    }\n\n    const handleNameChange = (value) => {\n        setValues({ ...values, name: value })\n    }\n\n    const handleSubmit = (event) => {\n        const form = event.currentTarget\n        event.preventDefault();\n        if (form.checkValidity() === false) {\n            event.stopPropagation();\n        } else {\n            setNotificationMessages({ notificationErrorMessage: '', notificationMessage: 'Viestiä lähetetään...' })\n            axios({\n                method: \"POST\",\n                url: \"https://www.laskejamuunna.fi/send\",\n                data: values\n            }).then((response) => {\n                if (response.data.status === 'success') {\n                    console.log(\"Viesti lähetetty.\")\n                    setNotificationMessages({ notificationErrorMessage: '', notificationMessage: 'Viestin lähetys onnistui. Kiitos viestistäsi!' })\n                    setValues({ name: '', email: '', message: '' })\n                    setTimeout(() => setNotificationMessages({ notificationErrorMessage: '', notificationMessage: '' }), 10000)\n                    console.log(notificationMessages)\n                } else if (response.data.status === 'fail') {\n                    console.log(response.data)\n                    console.log(\"Viestin lähettäminen epäonnistui.\")\n                    setNotificationMessages({ notificationErrorMessage: 'Viestin lähettäminen epäonnistui.', notificationMessage: '' })\n                    setTimeout(() => setNotificationMessages({ notificationErrorMessage: '', notificationMessage: '' }), 10000)\n                }\n            })\n        }\n\n        setValidated(true)\n        handleReset()\n    }\n\n    return (\n        <div>\n            <Breadcrumb>\n                <LinkContainer to=\"../\">\n                    <Breadcrumb.Item>\n                        Alkuun\n                    </Breadcrumb.Item>\n                </LinkContainer>\n                <Breadcrumb.Item active>\n                    Ota yhteyttä\n                </Breadcrumb.Item>\n            </Breadcrumb>\n            <div className=\"calculator\">\n                <h2>\n                    Ota yhteyttä\n            </h2>\n                <p>\n                    Kehitysehdotuksia? Huomasitko virheen sivustolla? Voit ottaa yhteyttä sivuston ylläpitoon alla olevalla lomakkeella.\n            </p>\n                <div style={formDivStyle}>\n                    <Form noValidate validated={validated} onSubmit={handleSubmit} ref={formRef}>\n                        <Form.Group>\n                            <Form.Label>Nimi</Form.Label>\n                            <Form.Control placeholder=\"Syötä nimesi\" required value={values.name} onChange={({ target }) => handleNameChange(target.value)} />\n                            <Form.Control.Feedback>\n                                Hyvältä näyttää!\n                        </Form.Control.Feedback>\n                            <Form.Control.Feedback type=\"invalid\">\n                                Syötä nimesi\n                        </Form.Control.Feedback>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Sähköpostiosoite</Form.Label>\n                            <Form.Control required type=\"email\" placeholder=\"Syötä sähköpostiosoite\" value={values.email} onChange={({ target }) => handleEmailChange(target.value)} />\n                            <Form.Text className=\"text-muted\">\n                                Emme koskaan jaa sähköpostiosoitettasi ulkopuolisille.\n                        </Form.Text>\n                            <Form.Control.Feedback>\n                                Hyvältä näyttää!\n                        </Form.Control.Feedback>\n                            <Form.Control.Feedback type=\"invalid\">\n                                Syötä sähköpostiosoite\n                        </Form.Control.Feedback>\n                        </Form.Group>\n                        <Form.Group>\n                            <Form.Label>Viesti</Form.Label>\n                            <Form.Control required as=\"textarea\" rows=\"3\" placeholder=\"Kirjoita viestisi tähän\" value={values.message} onChange={({ target }) => handleMessageChange(target.value)} />\n                            <Form.Control.Feedback>\n                                Hyvältä näyttää!\n                        </Form.Control.Feedback>\n                            <Form.Control.Feedback type=\"invalid\">\n                                Syötä viesti\n                        </Form.Control.Feedback>\n                        </Form.Group>\n                        <Button variant=\"primary\" type=\"submit\">\n                            Lähetä\n                    </Button>\n                    </Form>\n                </div>\n                <Notification message={notificationMessages.notificationMessage} errorMessage={notificationMessages.notificationErrorMessage} />\n            </div>\n        </div>\n    )\n}\n\nexport default ContactForm"]},"metadata":{},"sourceType":"module"}